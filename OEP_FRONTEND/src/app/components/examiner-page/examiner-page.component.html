<!-- Update pass // exam deletion  -->
 
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand">Online Exam Portal</a>
      <div class="d-flex ms-auto">
        <div class="dropdown">
          <a class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <strong>Examiner</strong>
          </a>
          <ul class="dropdown-menu dropdown-menu-dark text-small shadow dropdown-menu-end">
            <li><a class="dropdown-item">Profile</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <div class="text-center ">
              <button class="btn bg-danger border text-white px-2 py-2" (click)="logout()">Logout</button>
            </div>
          </ul>
        </div>
      </div>
    </div>
  </nav>
  
  <main class="d-flex flex-nowrap" style="overflow: hidden;">
    <div class="d-flex flex-column flex-shrink-0 p-3 text-bg-dark" style="width: 250px; height: calc(100vh - 56px); overflow-y: auto;">
  
      <div class="mb-3 p-2">
        <h4>Hey Examiner</h4>
        <h6>Your menu is right below!</h6>
      </div>
  
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a class="nav-link text-white" aria-current="page" [class.active]="selectedOption === 'exams'" (click)="selectOption('exams')">
            <i class="bi bi-list-ul me-2"></i>
            Exams
          </a>
        </li>
        <li>
          <a class="nav-link text-white" [class.active]="selectedOption === 'createExams'" (click)="selectOption('createExams')">
            <i class="bi bi-plus-square-fill me-2"></i>
            Create Exams
          </a>
        </li>
        <li>
          <a class="nav-link text-white" [class.active]="selectedOption === 'createQuestions'" (click)="selectOption('createQuestions')">
            <i class="bi bi-question-diamond-fill me-2"></i>
            Create Questions
          </a>
        </li>
        <li>
          <a class="nav-link text-white" [class.active]="selectedOption === 'evaluateExams'" (click)="selectOption('evaluateExams')">
            <i class="bi bi-pencil-square me-2"></i>
            Evaluate Exams
          </a>
        </li>
      </ul>
  
      <hr>
    </div>
  
    <div class="flex-grow-1 p-3 overflow-auto" style="max-height: calc(100vh - 56px);">
  
        <div *ngIf="selectedOption === 'exams'">
            <h3>Exams</h3>
            <p class="badge bg-success text-wrap">List of all exams in the system.</p>
            <div class="table-responsive">
              <table class="table table-striped table-bordered table-hover">
                <thead class="thead-dark">
                  <tr>
                    <th class="text-success">ID</th>
                    <th class="text-success">Title</th>
                    <th class="text-success">Description</th>
                    <th class="text-success">Total Marks</th>
                    <th class="text-success">Duration</th>
                    <th class="text-success">Actions</th> </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let exam of exams">
                    <td>{{ exam.examId }}</td>
                    <td>{{ exam.title }}</td>
                    <td>{{ exam.description }}</td>
                    <td>{{ exam.totalMarks }}</td>
                    <td>{{ exam.duration }}</td>
                    <td>
                      <button class="btn btn-danger btn-sm" (click)="delet
                      
                      eExam(exam.examId)">
                        <i class="bi bi-trash-fill me-1"></i> Delete
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
  
      <div *ngIf="selectedOption === 'createExams'" class="container mt-4">
        <h2>Create New Exam</h2>
        <p class="badge bg-success text-wrap">Enter the details for the new exam.</p>
  
        <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
        <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
  
        <div class="card shadow-sm">
          <div class="card-body">
            <form (ngSubmit)="createExam()" #examForm="ngForm">
              <div class="mb-3">
                <label for="category" class="form-label fw-bold text-success"><i class="bi bi-tag-fill me-1"></i> Category</label>
                <input type="text" class="form-control" id="category" name="category" [(ngModel)]="category" required>
                <div *ngIf="examForm.controls['category']?.invalid && (examForm.controls['category']?.dirty || examForm.controls['category']?.touched)" class="form-text text-danger">
                  Category is required.
                </div>
              </div>
  
              <div class="mb-3">
                <label for="title" class="form-label fw-bold text-success"><i class="bi bi-textarea me-1"></i> Title</label>
                <input type="text" class="form-control" id="title" name="title" [(ngModel)]="examData.title" required>
                <div *ngIf="examForm.controls['title']?.invalid && (examForm.controls['title']?.dirty || examForm.controls['title']?.touched)" class="form-text text-danger">
                  Title is required.
                </div>
              </div>
  
              <div class="mb-3">
                <label for="description" class="form-label fw-bold text-success"><i class="bi bi-file-earmark-richtext me-1"></i> Description (Optional)</label>
                <textarea class="form-control" id="description" name="description" [(ngModel)]="examData.description" rows="3"></textarea>
              </div>
  
              <div class="mb-3">
                <label for="totalMarks" class="form-label fw-bold text-success"><i class="bi bi-123 me-1"></i> Total Marks</label>
                <input type="number" class="form-control" id="totalMarks" name="totalMarks" [(ngModel)]="examData.totalMarks" required min="1">
                <div *ngIf="examForm.controls['totalMarks']?.invalid && (examForm.controls['totalMarks']?.dirty || examForm.controls['totalMarks']?.touched)" class="form-text text-danger">
                  Total marks are required and must be at least 1.
                </div>
              </div>
  
              <div class="mb-3">
                <label for="duration" class="form-label fw-bold text-success"><i class="bi bi-hourglass-split me-1"></i> Duration (in minutes)</label>
                <input type="number" class="form-control" id="duration" name="duration" [(ngModel)]="examData.duration" required min="1">
                <div *ngIf="examForm.controls['duration']?.invalid && (examForm.controls['duration']?.dirty || examForm.controls['duration']?.touched)" class="form-text text-danger">
                  Duration is required and must be at least 1 minute.
                </div>
              </div>
  
              <button type="submit" class="btn btn-success shadow-sm" [disabled]="examForm.invalid"><i class="bi bi-plus-square-fill me-1"></i> Create Exam</button>
            </form>
          </div>
        </div>
  
        <div class="mt-3">
          <p><small class="text-muted">You will be able to add questions to this exam after it is created.</small></p>
        </div>
      </div>
  
      <div *ngIf="selectedOption === 'createQuestions'">
        <h3>Create Questions</h3>
        <p class="badge bg-success text-wrap">Design new questions for your exams.</p>
        <p>This section will contain the form for creating questions.</p>
      </div>
  
      <div *ngIf="selectedOption === 'evaluateExams'">
        <h3>Evaluate Exams</h3>
        <p class="badge bg-success text-wrap">Review and grade submitted exams.</p>
        <p>This section will contain the tools for evaluating exams.</p>
      </div>
  
      <div *ngIf="!selectedOption">
        <h3>Dashboard Overview</h3>
        <p>Select an option from the sidebar to view details.</p>
      </div>
    </div>
  </main>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">